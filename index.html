// 2) Save (auto)
statusEl.textContent = "Savingâ€¦";
const saveRes = await fetch("/api/save-game", {
  method: "POST",
  headers: { "Content-Type": "application/json" },
  body: JSON.stringify({ prompt, game })
});
const saved = await saveRes.json();
if (!saveRes.ok) throw new Error(saved.error || "Save failed");

statusEl.textContent = "Done!";

// Build a RELATIVE link so it works regardless of PUBLIC_SITE_URL
const relativeLink = `/play.html?slug=${encodeURIComponent(saved.slug)}`;
shareEl.innerHTML = `<a href="${relativeLink}" target="_blank" rel="noopener">Open your game</a>`;
